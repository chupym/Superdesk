<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">

<title>API Requests</title>

<link href="http://localhost:8080/content/lib/core/styles/css/bootstrap.css" type="text/css" rel="stylesheet" />
<script src="http://localhost:8080/content/lib/core/scripts/js/startup.js"></script>
<script src="http://localhost:8080/content/gui/app/scripts/js/request.js"></script>
</head>
<body>

<script type="text/x-jQuery-tmpl" id="request-fail-tmpl">
	<div class="alert alert-error">
    	<a href="#" class="close">Ã—</a>
        <p>
			<strong>Oh snap! We cannot show you anything for this URL!</strong> 
			<br />
			Try to set the URL again.
		</p>
        <div class="alert-actions">
			<a href="javascript:void(0)" id="alert-set-url" class="btn small">Set API URL</a> 
			<a href="http://www.wolframalpha.com/input/?i=outside" class="btn small btn-success">Go out and play</a>
        </div>
	</div>
</script>
<script type="text/x-jQuery-tmpl" id="request-dialog-tmpl">
	<div title="Please provide the API's URL">
		<form onsubmit="return false" class="form-horizontal">
        	<fieldset>
				<div class="control-group">
            		<label for="api-url" class="control-label">URL</label>
            		<div class="controls">
              			<input type="text" id="api-url" class="input-xlarge">
						<p class="help-block">It should look something like: <br /><code>http://api.host/resources/Devel/</code></p>
            		</div>
          		</div>
			</fieldset>
		</form>
	</div>
</script>

<script type="text/x-jQuery-tmpl" id="request-inputlist-tmpl">

	{% for(var i in input) %}
	<h3>
		<small>#{{input[i].Id}}</small> {{input[i].Name}}
		{% if(input[i].Mandatory) %}
			<span class="label label-important">Mandatory</span>
		{% else %}
			<span class="label label-info">Optional</span>
		{% endif %}
	</h3>
	<p>
		<strong>Description</strong>
		<br />
		{{input[i].Description}}
	</p>
	{% endfor %}
</script>

<script type="text/x-jQuery-tmpl" id="request-method-tmpl">

	<h3><small>#{{Id}}</small> {{Name}}</h3>

	<section>
		{?APIClass}<p>
			<strong>API Class:</strong> 
			<code>{{APIClass}}</code>
		</p>{?}

		{?APIClassDefiner}<p>
			<strong>API Class Definer:</strong> 
			<code>{{APIClassDefiner}}</code>
		</p>{?}

		{?APIDoc}<p>
			<strong>API Class Documentation:</strong>
			<pre>{{APIDoc}}</pre>
		</p>{?}
	</section>

	<section>
		{?IMPL}<p>
			<strong>Implementation:</strong> 
			<code>{{IMPL}}</code>
		</p>{?}

		{?IMPLDefiner}<p>	
			<strong>Implementation Definer:</strong> 
			<code>{{IMPLDefiner}}</code>
		</p>{?}

		{?IMPLDoc}<p>
			<strong>Implementation Documentation:</strong> 
			<pre>{{IMPLDoc}}</pre>
		</p>{?}
	</section>

</script>

<script type="text/x-jQuery-tmpl" id="request-descr-tmpl">

	<div class="row">
		<div class="page-header">
			<h2><small>#{{Request.Id}}</small> {{Request.Pattern}}</h2>	
		</div>
	</div>

	{% for( var prop in Request ) %}
		{?Request[prop].href}
		<article class="row well">
			<header>
				<h3>
					{{prop}}
					<a class="btn btn-info btn-small request-method pull-right" 
						api-method="{{prop}}" href="{{Request[prop].href}}">info</a>
				</h3>
			</header>
			<div class="box hide">
							
			</div>
		</article>
		{?}
	{% endfor %} 

</script>
	
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
		<div class="container">
			<a href="#" class="brand">Available Requests</a>
			<ul class="nav">
				<li>
					<a id="menu-api-url">
						
					</a>
				</li>
			</ul>
			<form action="" class="navbar-search pull-right">
        	    <input type="text" placeholder="Search inputs..." class="span2 search-query">
        	    <button type="submit" class="hide">Search</button>
          	</form>
      	</div>
      	<div class="loader"></div>
	</div>
</div>
<div class="container" style="margin-top:60px;">
<div class="container-fluid">
	<div id="alert-box"></div>
	<div class="row-fluid">
		<div class="span4">
				<ol id="request-list">
				
				<script type="text/x-jQuery-tmpl" id="request-list-tmpl">
				{% for( var i in request ) %}
				<li>
					<a request-id="{{request[i].Id}}" href="{{request[i].href}}">
						{{request[i].Pattern || '[root]'}}
					</a>
				</li>
				{% endfor %}
				</script>				
				
			</ol>
		</div>
		<div class="span8" id="request-descr">
			
		</div>
	</div>
</div>
</div>
</body>
</html>